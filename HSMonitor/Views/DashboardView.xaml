<Window
    x:Class="HSMonitor.Views.DashboardView"
    xmlns:viewModels="clr-namespace:HSMonitor.ViewModels"
    xmlns:local="clr-namespace:HSMonitor.Views"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="320"
    d:DesignWidth="240"
    Height="380"
    Width="270"
    d:DataContext="{d:DesignInstance Type=viewModels:DashboardViewModel}"
    mc:Ignorable="d"
    SnapsToDevicePixels="True"
    UseLayoutRounding="True"
    TextOptions.TextFormattingMode="Display"
    TextOptions.TextRenderingMode="Aliased"
    RenderOptions.EdgeMode="Aliased">
    <Window.Resources>
        <local:BooleanToVisibilityConverterEx x:Key="BoolToVis"/>

        <Style TargetType="{x:Type Border}">
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="BorderBrush" Value="Gray"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style TargetType="{x:Type Path}">
            <Setter Property="Fill" Value="Gray"/>
        </Style>

        <Style TargetType="{x:Type Polygon}">
            <Setter Property="Fill" Value="Gray"/>
        </Style>

        <Style TargetType="{x:Type TextBlock}">
            <Setter Property="FontFamily" Value="{DynamicResource org_01}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="34"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Reusable circular marquee used for "+0 MHz" and BOOST ribbons -->
        <Style TargetType="{x:Type local:MarqueeText}">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontFamily" Value="{DynamicResource org_01}"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Speed" Value="55"/>
            <Setter Property="Gap" Value="18"/>
            <Setter Property="Padding" Value="6,0,6,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type local:MarqueeText}">
                        <Border CornerRadius="4"
                                BorderBrush="Gray"
                                BorderThickness="1"
                                Background="{TemplateBinding Background}">
                            <Grid ClipToBounds="True" Margin="{TemplateBinding Padding}">
                                <Canvas x:Name="PART_Canvas">
                                    <TextBlock x:Name="PART_Text1"
                                               Text="{TemplateBinding Text}"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontFamily="{TemplateBinding FontFamily}"
                                               FontSize="{TemplateBinding FontSize}"/>
                                    <TextBlock x:Name="PART_Text2"
                                               Text="{TemplateBinding Text}"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontFamily="{TemplateBinding FontFamily}"
                                               FontSize="{TemplateBinding FontSize}"/>
                                </Canvas>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Canvas Opacity="{Binding DisplayOpacity}" Background="Black">

        <Border Canvas.Top="0"   Canvas.Left="0" Width="240" Height="120"/>
        <Border Canvas.Top="122" Canvas.Left="0" Width="240" Height="138"/>
        <Border Canvas.Top="262" Canvas.Left="0" Width="240" Height="55"/>

        <Border Canvas.Top="22"  Canvas.Left="13" Width="88" Height="89"/>
        <Border Canvas.Top="140" Canvas.Left="13" Width="88" Height="89"/>

        <!--CPU Name-->
        <!--{Binding Cpu.Name}-->
        <TextBlock Canvas.Top="2" Canvas.Left="12" Text="Test test test" FontSize="14"/>

        <!-- CPU Logo Image-->
        <Image Canvas.Top="26" Canvas.Left="16" Width="82" Height="82"
               Source="{Binding CpuImageSource, Mode=OneWay}" Stretch="Fill"/>

        <DockPanel
            Canvas.Top="10"
            Canvas.Left="107"
            HorizontalAlignment="Left">
            <!--CPU Temperature-->
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="28"
                Text="10"/>
            <!--CPU Temperature Degree-->
            <StackPanel
                Orientation="Horizontal">
                <TextBlock
                    DockPanel.Dock="Left"
                    FontSize="10"
                    Text="0"
                    Margin="0, 0, 0,6"/>
                <TextBlock
                    DockPanel.Dock="Left"
                    FontSize="18"
                    Text="C"
                    Margin="0, 0, 0,4"/>
            </StackPanel>
        </DockPanel>
        
        <DockPanel
            Canvas.Top="10"
            Canvas.Left="170"
            HorizontalAlignment="Left">
            <!--CPU Load-->
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="28"
                Text="12"/>
            <!--CPU Load Percent-->
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="13"
                Text="%"
                Margin="0, 0, 0,5"/>
        </DockPanel>
        
        <DockPanel
            Canvas.Top="32"
            Canvas.Left="107"
            HorizontalAlignment="Left">
            <!--CPU Power-->
            <TextBlock
                DockPanel.Dock="Left"
                Text="10"
                FontSize="28"/>
            <!--CPU Power Watt-->
            <TextBlock
                DockPanel.Dock="Left"
                Text="W"
                FontSize="18"
                Margin="0, 0, 0,5"/>
        </DockPanel>
        
        <DockPanel
            Canvas.Top="32"
            Canvas.Left="170"
            HorizontalAlignment="Left">
            <!--CPU Load-->
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="28"
                Text="1.35"/>
            <!--CPU Load Percent-->
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="13"
                Text="V"
                Margin="0, 0, 0,6"/>
        </DockPanel>
        
        <DockPanel
            Canvas.Top="55"
            Canvas.Left="107"
            HorizontalAlignment="Left">
            <!--CPU Clock-->
            <TextBlock
                DockPanel.Dock="Left"
                Text="4300"
                FontSize="28"/>
            <!--CPU Clock MHz-->
            <TextBlock
                DockPanel.Dock="Left"
                Text="MHz"
                FontSize="18"
                Margin="0, 0, 0,6"/>
        </DockPanel>

        <!-- CPU OC / BOOST ribbon (looping marquee, same place as the old small box) -->
        <Grid Canvas.Top="91" Canvas.Left="107" Width="125" Height="20">
            <local:MarqueeText
                Text="{Binding CpuOcMarqueeText}"
                FontSize="12"
                Background="Black"
                Visibility="{Binding IsCpuBoostActive, Converter={StaticResource BoolToVis}, ConverterParameter=invert}"/>
            <local:MarqueeText
                Text="{Binding CpuBoostMarqueeText}"
                FontSize="12"
                Background="Red"
                Visibility="{Binding IsCpuBoostActive, Converter={StaticResource BoolToVis}}"/>
        </Grid>

        <!-- Gpu Logo Image -->
        <Image Canvas.Top="144" Canvas.Left="16" Width="82" Height="82"
               Source="{Binding GpuImageSource, Mode=OneWay}" Stretch="Fill"/>

        <!-- GPU OC / BOOST ribbon (looping marquee, same place as the old small box) -->
        <Grid Canvas.Top="234" Canvas.Left="14" Width="88" Height="24">
            <local:MarqueeText
                Text="{Binding GpuOcMarqueeText}"
                FontSize="12"
                Background="Black"
                Visibility="{Binding IsGpuBoostActive, Converter={StaticResource BoolToVis}, ConverterParameter=invert}"/>
            <local:MarqueeText
                Text="{Binding GpuBoostMarqueeText}"
                FontSize="12"
                Background="Red"
                Visibility="{Binding IsGpuBoostActive, Converter={StaticResource BoolToVis}}"/>
        </Grid>

        <!--GPU Name-->
        <TextBlock Canvas.Top="120" Canvas.Left="16" Text="Test test test" FontSize="14"/>

        <!--GPU Temperature-->
        <DockPanel
            Canvas.Top="126" 
            Canvas.Left="105"
            HorizontalAlignment="Left">
            <TextBlock
                DockPanel.Dock="Left"
                Text="30" 
                FontSize="28"/>
            <StackPanel
                Orientation="Horizontal">
                <TextBlock
                    DockPanel.Dock="Left"
                    FontSize="10"
                    Text="0"
                    Margin="0, 0, 0,6"/>
                <TextBlock
                    DockPanel.Dock="Left"
                    FontSize="18"
                    Text="C"
                    Margin="0, 0, 0,4"/>
            </StackPanel>
        </DockPanel>

        <!--GPU Load-->
        <DockPanel
            Canvas.Top="126" 
            Canvas.Left="180"
            HorizontalAlignment="Left">
            <TextBlock
                DockPanel.Dock="Left"
                Text="13"
                FontSize="28"/>
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="13"
                Text="%"
                Margin="0, 0, 0,5"/>
        </DockPanel>

        <!--GPU Clock-->
        <DockPanel
            Canvas.Top="147" 
            Canvas.Left="105"
            HorizontalAlignment="Left">
            <TextBlock
                DockPanel.Dock="Left"
                Text="2300"
                FontSize="28"/>
            <TextBlock
                DockPanel.Dock="Left"
                FontSize="13"
                Text="MHz"
                Margin="0, 0, 0,6"/>
        </DockPanel>
        
        <Grid
            Canvas.Top="180" 
            Canvas.Left="115">
            <Grid.RowDefinitions>
                <RowDefinition Height="10"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="10"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!--GPU VRam -->
            <TextBlock
                Grid.Column="0"
                Grid.Row="0"
                Text="VRAM"
                FontSize="12"/>
            <TextBlock
                HorizontalAlignment="Right"
                TextAlignment="Right"
                Grid.Column="1"
                Grid.Row="0"
                Text="0/0GB"
                FontSize="12"
                Margin="10, 0, 0,0"/>
            
            <!--GPU VRam Clock-->
            <TextBlock
                Grid.Column="0"
                Grid.Row="1"
                Text="CLOCK"
                FontSize="12"/>
            <TextBlock
                HorizontalAlignment="Right"
                TextAlignment="Right"
                Grid.Column="1"
                Grid.Row="1"
                Text="18000mhz"
                FontSize="12"
                Margin="10, 0, 0,0"/>
            
            <!--GPU Power-->
            <TextBlock
                Grid.Column="0"
                Grid.Row="2"
                Text="POWER"
                FontSize="12"/>
            <TextBlock
                HorizontalAlignment="Right"
                TextAlignment="Right"
                Grid.Column="1"
                Grid.Row="2"
                Text="300w"
                FontSize="12"
                Margin="10, 0, 0,0"/>
        </Grid>

        <!-- Two overlaid graphs under POWER -->
        <Grid Canvas.Top="225" Canvas.Left="125" Width="110" Height="32"
              ClipToBounds="True" Background="Black">
            <Polyline Points="{Binding GpuPowerGraphPoints}" Stroke="White" StrokeThickness="1" SnapsToDevicePixels="True"/>
            <Polyline Points="{Binding GpuLoadGraphPoints}"  Stroke="Gray"  StrokeThickness="1" SnapsToDevicePixels="True"/>
        </Grid>


        <!--RAM Image-->
        <Image 
            Canvas.Top="268" 
            Canvas.Left="14" 
            Width="82"
            Height="40"
            Source="{Binding MemoryImageSource, Mode=OneWay}" 
            Stretch="Fill"/>

        <!--Total / RAM Used-->
        <TextBlock 
            Canvas.Top="262" 
            Canvas.Left="115" 
            Text="Total / Used" 
            FontSize="14"/>

        <DockPanel
            Canvas.Top="275" 
            Canvas.Left="105"
            HorizontalAlignment="Left">
            <TextBlock 
                DockPanel.Dock="Left"
                Text="32" 
                FontSize="24"/>
            <TextBlock 
                DockPanel.Dock="Left"
                Text="GB" 
                FontSize="12"
                Margin="0, 0, 0,6"/>
        </DockPanel>
        
        <DockPanel
            Canvas.Top="275" 
            Canvas.Left="190"
            HorizontalAlignment="Left">
            <TextBlock 
                DockPanel.Dock="Left"
                Text="12" 
                FontSize="24"/>
            <TextBlock 
                DockPanel.Dock="Left"
                Text="GB" 
                FontSize="12"
                Margin="0, 0, 0,6"/>
        </DockPanel>
    </Canvas>
</Window>